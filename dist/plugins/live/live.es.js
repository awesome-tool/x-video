import t from"video.js";function e(t,e){t.prototype=Object.create(e.prototype),t.prototype.constructor=t,i(t,e)}function i(t,e){return i=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t},i(t,e)}var n=function(i){function n(){return i.apply(this,arguments)||this}return e(n,i),n.prototype.createEl=function(){return t.dom.createEl("div",{className:"vjs-live-notice",innerHTML:'\n        <div class="vjs-live-notice-spot vjs-icon-circle"></div>\n        直播\n      '})},n}(t.getComponent("Component"));t.registerComponent("LiveNotice",n);var o=function(t){function i(e,i){var n;return void 0===i&&(i={}),(n=t.call(this,e,i)||this).createLiveNative(e),n.start(e),n}e(i,t);var o=i.prototype;return o.createLiveNative=function(t){var e=t.findChild("DurationDisplay")[0],i=e.parent,o=e.index,r=new n(t);i.addChild(r,{},o),this.on("dispose",(function(){i.removeChild(r)}))},o.start=function(t){var e=this.onTimeUpdate.bind(this);t.addClass("vjs-live-streaming"),t.on("timeupdate",e),this.on("dispose",(function(){t.off("timeupdate",e),t.removeClass("vjs-live-streaming"),t.removeClass("vjs-live")}))},o.onTimeUpdate=function(){var t=this.player,e=t.duration();e===1/0||t.currentTime()>=e?t.addClass("vjs-live"):t.removeClass("vjs-live")},i}(t.getPlugin("plugin"));t.registerPlugin("live",o);
